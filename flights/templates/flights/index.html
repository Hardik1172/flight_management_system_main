{% extends "layout.html" %}

{% block content %}
<div class="text-center mb-4">
    <h1>Welcome to FlightBook App</h1>
    <p class="lead">Lets book your ticket!</p>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Search Flights</h5>
                <form action="/search" method="get">
                    <div class="mb-3">
                        <label for="origin" class="form-label">From</label>
                        <input type="text" class="form-control" id="origin" name="origin" required>
                    </div>
                    <div class="mb-3">
                        <label for="destination" class="form-label">To</label>
                        <input type="text" class="form-control" id="destination" name="destination" required>
                    </div>
                    <div class="mb-3">
                        <label for="date" class="form-label">Departure Date</label>
                        <input type="date" class="form-control" id="date" name="date" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Search</button>
                </form>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Popular Destinations</h5>
                <ul class="list-group">
                    {% for airport in airports %}
                    <li class="list-group-item">{{ airport.city }} ({{ airport.code }})</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h2>Popular Domestic Flights</h2>
        <ul class="list-group">
        {% for flight in domestic_flights %}
            <li class="list-group-item">
                {{ flight.flight_number }}: {{ flight.origin.city }} to {{ flight.destination.city }}
                - Economy Class: ₹{{ flight.economy_price }}, Business Class: ₹{{ flight.business_price }}
                <br>
                <small>Departs: {{ flight.departure_time|date:"D H:i" }}, Arrives: {{ flight.arrival_time|date:"D H:i" }}, Duration: {{flight.duration}}</small>
            </li>
        {% endfor %}
        </ul>
    </div>
    <div class="col-md-6">
        <h2>Popular International Flights</h2>
        <ul class="list-group">
        {% for flight in international_flights %}
            <li class="list-group-item">
                {{ flight.flight_number }}: {{ flight.origin.city }} to {{ flight.destination.city }}
                - Economy Class: ₹{{ flight.economy_price }}, Business Class: ₹{{ flight.business_price }}
                <br>
                <small>Departs: {{ flight.departure_time|date:"D H:i" }}, Arrives: {{ flight.arrival_time|date:"D H:i" }} , Duration: {{flight.duration}}</small>
            </li>
        {% endfor %}
        </ul>
    </div>
</div>

<div class="mt-4">
    <h2>Why Choose FlightBook Application?</h2>
    <ul>
        <li>Cheapest prices</li>
        <li>Best offers</li>
        <li>Best suggestions for your journey</li>
        <li>Most easy process</li>
    </ul>
</div>
{% endblock %}